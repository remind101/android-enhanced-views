apply plugin: 'android-sdk-manager'
apply plugin: 'android-library'

group 'com.remind101.android.views'
def version = '1.0.8'
def versionCodeIncrement = 12

android {
    compileSdkVersion compileSdkVersionValue
    buildToolsVersion buildToolsVersionValue

    defaultConfig {
        minSdkVersion 8
        targetSdkVersion compileSdkVersionValue
        versionCode versionCodeIncrement
        versionName version
    }

}

android.libraryVariants.all { variant ->

    def debugTaskName = "debug${variant.name}SDKManager"
    task(debugTaskName) << {
        def stdout = new ByteArrayOutputStream()

        project.exec {
            executable = 'ls'
            args = ['-R', '~/.android-sdk']
            standardOutput = stdout
        }

        if (stdout.toByteArray().length > 0) {
            println stdout.toString()
        }
    }
    variant.generateBuildConfig.dependsOn(debugTaskName )
}